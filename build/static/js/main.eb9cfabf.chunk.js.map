{"version":3,"sources":["components/Filter/Filter.js","components/PersonForm/PersonForm.js","components/Person/Person.js","components/Notification/Notification.js","service/numberService.js","components/App/App.js","index.js"],"names":["Filter","props","className","onChange","handleInputSearchWord","value","searchWord","PersonForm","handleInputName","newName","handleInputNumber","newNumber","type","onClick","handleSubmit","Person","person","handleDelete","name","number","event","Notification","message","style","border","color","padding","margin","borderRadius","backgroundColor","fontSize","baseUrl","axios","get","then","resp","data","newObj","post","id","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchWord","setMessage","preventDefault","window","confirm","numberService","filter","n","catch","error","setTimeout","getDefaultMessage","validateInput","inputName","find","useEffect","console","log","target","personToUpdate","response","map","concat","toLowerCase","includes","filterByName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eb9cfabf.chunk.js","sourcesContent":["import React from 'react';\nimport './Filter.css';\n\nconst Filter = (props) => {\n\n  return (\n    <form className=\"form__filter\">\n      Filter by name: <input\n                        onChange={props.handleInputSearchWord}\n                        value={props.searchWord}\n                      />\n    </form>\n  )\n}\n\nexport default Filter\n","import React from 'react';\nimport './PersonForm.css';\n\nconst PersonForm = (props) => {\n\n  return (\n    <form className=\"form__add\">\n      <div className=\"form__add_name form__add__item\">\n        name: <input\n                onChange={props.handleInputName}\n                value={props.newName}\n              />\n      </div>\n      <div className=\"form__add_number form__add__item\">\n        number: <input\n                  onChange={props.handleInputNumber}\n                  value={props.newNumber}\n                />\n      </div>\n      <div>\n        <button\n          className=\"btn__add\"\n          type=\"submit\"\n          onClick={props.handleSubmit}\n        >\n          add\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport './Person.css';\n\nconst Person = ({person, handleDelete}) => {\n  return (\n    <form\n      className=\"list__item\"\n    >\n      {person.name}: {person.number}\n      <button\n        type=\"submit\"\n        className=\"btn__delete\"\n        onClick={event => handleDelete(event, person)}\n      >\n        delete\n      </button>\n    </form>\n  )\n}\n\nexport default Person;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message[0] === null) {\n    return null;\n  }\n\n  const successStyle  = {\n    border: \"green 3px solid\",\n    color: \"green\",\n    padding: \"0.5rem\",\n    margin: \"1rem\",\n    borderRadius: 5,\n    backgroundColor: \"#cccccc\",\n    fontSize: 20,\n  }\n\n  const errorStyle = {\n    border: \"red 3px solid\",\n    color: \"red\",\n    padding: \"0.5rem\",\n    margin: \"1rem\",\n    borderRadius: 5,\n    backgroundColor: \"#cccccc\",\n    fontSize: 20,\n  }\n\n  return (\n      <div style={\n        message[1] === 'success'\n        ? successStyle\n        : errorStyle\n      }>\n        {message[0]}\n      </div>\n  )\n}\n\nexport default Notification;\n","import axios  from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(resp => resp.data);\n}\n\nconst post = newObj => {\n  const request = axios.post(baseUrl, newObj);\n  return request.then(resp => resp.data);\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n}\n\nconst update = (id, newObj) => {\n  return axios.put(`${baseUrl}/${id}`, newObj);\n}\n\nexport default { getAll, post, remove, update };\n","import React, { useState, useEffect } from 'react';\nimport Filter from '../Filter/Filter';\nimport PersonForm from '../PersonForm/PersonForm';\nimport Person from '../Person/Person';\nimport Notification from '../Notification/Notification';\nimport numberService from '../../service/numberService';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchWord, setSearchWord ] = useState('')\n  const [ message, setMessage ] = useState([null, null]);\n\n  const handleInputName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleInputNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleInputSearchWord = (event) => {\n    setSearchWord(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if(validateInput(newName)) {\n      const confirmation = window.confirm(`${newName} is already added to the phonebook. Do you want to replace the old number with a new one?`);\n\n        if (confirmation) {\n          const personToUpdate = persons.filter(person => person.name === newName)[0];\n          const newObj = {\n            ...personToUpdate,\n            number: newNumber,\n          };\n\n          numberService.update(personToUpdate.id, newObj)\n            .then(response => response.data)\n            .then(data => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== personToUpdate.id ? person : data\n                )\n              );\n              setNewName('');\n              setNewNumber('');\n              setMessage([\n                `Updated ${data.name}`,\n                'success'\n              ]);\n\n              setTimeout(() => {\n                setMessage(getDefaultMessage());\n              }, 3000);\n            })\n            .catch(error => {\n              setMessage([\n                `Information of ${newObj.name} has already been removed from server.`,\n                'error'\n              ]);\n              setTimeout(() => {\n                setMessage(getDefaultMessage());\n              }, 5000);\n              setPersons(persons.filter(n => n.id !== personToUpdate.id));\n            })\n        }\n    } else {\n      const newObj = {\n        name: newName,\n        number: newNumber,\n      };\n\n      numberService.post(newObj)\n        .then(data => {\n          setPersons(persons.concat(data));\n          setNewName('');\n          setNewNumber('');\n          setMessage([\n            `Added ${data.name}`,\n            'success'\n          ]);\n\n          setTimeout(() => {\n            setMessage(getDefaultMessage());\n          }, 3000);\n        });\n    }\n  }\n\n  const handleDelete = (event, person) => {\n    event.preventDefault();\n    const confirmation = window.confirm(`do you want delete ${person.name}?`);\n\n    if(confirmation) {\n      numberService.remove(person.id)\n      .then(() => {\n        setPersons(persons.filter(n => n.id !== person.id));\n      })\n      .catch(error => {\n        setMessage([\n          `Information of ${person.name} has already been removed from server.`,\n          'error'\n        ]);\n        setTimeout(() => {\n          setMessage(getDefaultMessage());\n        }, 5000);\n        setPersons(persons.filter(n => n.id !== person.id));\n      })\n    }\n  }\n\n  const validateInput = (inputName) => {\n    return persons.find(person => person.name === inputName);\n  }\n\n  const filterByName = searchWord => {\n    if(searchWord === '') {\n      return persons;\n    } else {\n      return persons.filter(person => {\n        return person.name.toLowerCase().includes(searchWord.toLowerCase())\n      })\n    }\n  }\n\n    const getDefaultMessage = () => {\n      return [null, null];\n    };\n\n  useEffect(() => {\n    console.log('attempting the initial fetch');\n    numberService.getAll()\n      .then(data => {\n        setPersons(data)\n        console.log('fetched and set the initial data');\n      });\n  }, []);\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={message}\n      />\n      <Filter\n        handleInputSearchWord={handleInputSearchWord}\n        searchWord={searchWord}\n      />\n      <h3>add a new contact</h3>\n      <PersonForm\n        handleInputName={handleInputName}\n        newName={newName}\n        handleInputNumber={handleInputNumber}\n        newNumber={newNumber}\n        handleSubmit={handleSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <ul>\n      { filterByName(searchWord).map((person) =>\n        <li key={`${person.name}+${person.number}`}>\n          <Person\n            person={person}\n            handleDelete={handleDelete}\n          />\n        </li>\n        )\n      }\n      </ul>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}